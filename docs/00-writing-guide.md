---
depends_on: []
tags: [governance, style-guide]
ai_summary: "テンプレート使用時の文章・構造・図のルールを定義する記載規範"
---

# 記載規範

> Status: Active
> 最終更新: YYYY-MM-DD

本ドキュメントは、templarc-docs テンプレートを使用する際の記載規範を定義する。

---

## 基本原則

| 原則 | 内容 |
|------|------|
| **コード禁止** | 設計ドキュメントにコードは記載しない |
| **図の積極活用** | Mermaid記法で視覚化。文章だけで説明しない |
| **What/Why優先** | 「何を・なぜ」を書く。「どう実装するか」は書かない |

### コード記載の例外

以下の場合のみ、1-2行程度のコード記載を許可する：

- 設定ファイルの例（`.env`の形式など）
- コマンド実行例（`npm install`など）
- ファイルパスの例示

---

## 構造規範

### 見出し階層

見出しは必ず順序を守る。飛ばさない。

```
# H1 - ドキュメントタイトル（1ファイル1つのみ）
## H2 - 主要セクション
### H3 - サブセクション
#### H4 - 詳細項目（必要な場合のみ）
```

### 1ファイル1責務

1つのドキュメントで1つのトピックを扱う。複数のトピックを混在させない。

### 見出しによる識別

見出しテキスト自体が識別子として機能する。IDや番号を別途付与しない。

- 見出し名は一意かつ具体的に書く（「概要」「詳細」のような汎用名は避ける）
- 相互参照時はMarkdownアンカーを使用: `[ユーザー登録フロー](./flows.md#ユーザー登録フロー)`
- テーブル内で列挙する場合のみ、行番号列（`#`）を付与する

### セクション構成

各ドキュメントは以下の構成を基本とする：

```markdown
---
depends_on: []
tags: []
ai_summary: ""
---

# タイトル

> Status: Draft | Active | Deprecated
> 最終更新: YYYY-MM-DD

概要（1-2文でこのドキュメントの目的を説明）

---

## 本文セクション

（内容）

---

## 関連ドキュメント

- [関連1](../path/to/file.md) - 1文の内容要約
- [関連2](../path/to/file.md) - 1文の内容要約
```

### 表形式の活用

比較・一覧は表で記載する。箇条書きより表を優先。

**良い例：**

| 項目 | 説明 |
|------|------|
| 項目A | 説明A |
| 項目B | 説明B |

**避けるべき例：**

- 項目A: 説明A
- 項目B: 説明B

---

## 分量ガイドライン

### 上限の目安

| レベル | 上限 | 超過時の対応 |
|--------|------|--------------|
| 1文 | 60文字程度 | 分割する |
| 1段落 | 3-5文 | 段落を分ける |
| 1セクション（H2） | 50行 | サブセクション（H3）に分割 |
| 1ファイル | 200行 | 別ファイルに分割し相互リンク |
| 1テーブル | 15行 | カテゴリ別に表を分割 |
| 1 Mermaid図 | 15ノード | 概要図と詳細図に分割 |

### 分割の原則

- ファイル分割時は親ファイルにナビゲーションリンクを残す
- 分割先ファイルにも元ファイルへの参照を設置する
- 表の分割時はカテゴリ見出し（H3/H4）で区切る

---

## 文章品質規範

### 1文1情報

1つの文に複数の情報を詰め込まない。情報単位で文を分ける。

**NG:** ユーザーはログイン画面でメールアドレスとパスワードを入力し、認証に成功するとダッシュボードに遷移する。

**OK:** ユーザーはログイン画面でメールアドレスとパスワードを入力する。認証に成功するとダッシュボードに遷移する。

### 主語の明示

主語を省略しない。誰が・何が主体の動作かを明記する。

### 肯定形の優先

「〜しない」より「〜する」で記述する。禁止事項を述べる場合のみ否定形を使用する。

### 曖昧表現の制御

| レベル | 対応 | 該当表現 |
|--------|------|----------|
| **禁止** | 使用しない | 「〜的な」「いい感じに」「適切に」「適宜」 |
| **要注意** | 使う場合は具体例を併記 | 「など」「基本的に」「一般的に」「主に」 |
| **許容** | 制限なし | 「例えば」「具体的には」 |

**要注意表現の使い方:**

- NG: `認証方法（OAuthなど）を使用する`
- OK: `認証方法（OAuth, SAML, API Key等）から選択する`

---

## 自己完結性規範

### 略称の初出定義

ファイル内で略称を初めて使う場合、正式名称を併記する。

例: `ADR（Architecture Decision Record）`

### 暗黙知の排除

読者が前提知識を持たない想定で記述する。プロジェクト固有の背景や経緯は明記する。

### 参照時の要約

他ファイルを参照リンクで示す場合、1文でそのファイルの内容を要約する。

例: `詳細は[データモデル](../03-details/data-model.md)（エンティティ定義とER図）を参照。`

---

## 冗長性規範

### DRY原則の適用

| 内容 | 方針 |
|------|------|
| 概要（1文要約） | 重複を許容する（自己完結性のため） |
| 詳細（表・図・説明） | 重複禁止。参照リンクで対応 |

### フィラー表現の排除

目的説明のない前置き文は書かない。

- NG: `ここでは認証フローについて説明する。認証フローは...`
- OK: `認証フローは...`

### 装飾語の排除

程度副詞（「非常に」「極めて」「かなり」）は使用しない。定量的な表現に置き換える。

- NG: `非常に高いスループットを実現する`
- OK: `1000 req/s以上のスループットを実現する`

---

## 用語・表記規範

### 用語集の使用

- 専門用語・プロジェクト固有語は `99-appendix/glossary.md` で定義する
- 初出時は「〇〇（→用語集）」と明示する

### 表記ゆれ禁止

同じ概念に複数の名前を使わない。用語集で正式名称を定義し、それを使用する。

### 文体

- **である調**で統一（簡潔さ優先）
- 敬語（です・ます調）は使用しない

---

## 相互参照規範

### リンク形式

相対パスを使用する：

```markdown
[参照先のタイトル](../path/to/file.md)
```

### 関連ドキュメントセクション

各ファイル末尾に「関連ドキュメント」セクションを設置し、関連するドキュメントへのリンクと1文の内容要約を記載する。

```markdown
## 関連ドキュメント

- [データモデル](../03-details/data-model.md) - エンティティ定義とER図
- [APIエンドポイント](../03-details/api.md) - REST APIの仕様
```

---

## メタ情報規範

### YAML Front Matter（機械用）

各ドキュメント冒頭にYAML Front Matterを記載する。AI・ツールによるメタデータ抽出に使用する。

```yaml
---
depends_on:
  - ../01-overview/summary.md
tags: [architecture, c4, context]
ai_summary: "システム境界と外部連携を定義するC4 Context図"
---
```

| フィールド | 必須 | 内容 |
|-----------|------|------|
| `depends_on` | 任意 | このドキュメントが前提とするファイルのパス一覧 |
| `tags` | 任意 | 検索・分類用のタグ |
| `ai_summary` | 必須 | 1文でファイル内容を要約（AIがファイルを開かず内容判断するため） |

### ステータス表示（人間用）

YAML Front Matterの直後、引用ブロック形式で人間向けのステータスを表示する。

| ステータス | 意味 |
|------------|------|
| **Draft** | 作成中。内容が不完全 |
| **Active** | 有効。現在の設計を反映 |
| **Deprecated** | 非推奨。参考情報として残す |

### 最終更新日

ステータスと同じ引用ブロック内に `最終更新: YYYY-MM-DD` 形式で記載する。

### ドキュメント冒頭の完全形

```markdown
---
depends_on:
  - ../path/to/dependency.md
tags: [category1, category2]
ai_summary: "このドキュメントの内容を1文で要約"
---

# タイトル

> Status: Draft | Active | Deprecated
> 最終更新: YYYY-MM-DD

概要文（1-2文）
```

---

## 図の規範

### 使用ツール

**Mermaidのみ**を使用する。外部ツール（draw.io、Figma等）は使用しない。

理由：
- テキストベースでGit差分が取れる
- AIが読み書きできる
- 追加ツールのインストールが不要

### 図の種類と用途

| 図の種類 | Mermaid記法 | 用途 |
|----------|-------------|------|
| フローチャート | `flowchart` | 処理フロー、状態遷移 |
| ER図 | `erDiagram` | データモデル |
| シーケンス図 | `sequenceDiagram` | コンポーネント間通信 |
| C4図 | `C4Context`, `C4Container` | システム構成 |
| クラス図 | `classDiagram` | 構造の関係性 |

### 図の記載ルール

- 図には必ずタイトルをつける（見出しまたはキャプション）
- 図の前後に説明文を添える（図だけで終わらせない）
- 複雑な図は分割する

---

## ファイル命名規則

### 設計ドキュメント

番号付きディレクトリ + 英語ファイル名：

```
docs/
├── 01-overview/
│   └── summary.md
├── 02-architecture/
│   └── context.md
```

### ADR（決定記録）

4桁番号 + ケバブケース：

```
04-decisions/
├── 0001-use-typescript.md
├── 0002-adopt-postgresql.md
```

### GitHub標準ファイル

番号なし、大文字：

```
README.md
LICENSE
CONTRIBUTING.md
CHANGELOG.md
```

---

## 関連ドキュメント

- [Git規範](./00-git-guide.md) - コミットメッセージ・ブランチ命名・変更履歴管理
- [00-index.md](./00-index.md) - ドキュメント全体のナビゲーション
- [99-appendix/glossary.md](./99-appendix/glossary.md) - 用語集
