# 記載規範

> Status: Active
> 最終更新: YYYY-MM-DD

本ドキュメントは、templarc-docs テンプレートを使用する際の記載規範を定義する。

---

## 基本原則

| 原則 | 内容 |
|------|------|
| **コード禁止** | 設計ドキュメントにコードは記載しない |
| **図の積極活用** | Mermaid記法で視覚化。文章だけで説明しない |
| **What/Why優先** | 「何を・なぜ」を書く。「どう実装するか」は書かない |

### コード記載の例外

以下の場合のみ、1-2行程度のコード記載を許可する：

- 設定ファイルの例（`.env`の形式など）
- コマンド実行例（`npm install`など）
- ファイルパスの例示

---

## 構造規範

### 見出し階層

見出しは必ず順序を守る。飛ばさない。

```
# H1 - ドキュメントタイトル（1ファイル1つのみ）
## H2 - 主要セクション
### H3 - サブセクション
#### H4 - 詳細項目（必要な場合のみ）
```

### 1ファイル1責務

1つのドキュメントで1つのトピックを扱う。複数のトピックを混在させない。

### セクション構成

各ドキュメントは以下の構成を基本とする：

```markdown
# タイトル

> Status: Draft | Active | Deprecated
> 最終更新: YYYY-MM-DD

概要（1-2文でこのドキュメントの目的を説明）

---

## 本文セクション

（内容）

---

## 関連ドキュメント

- [関連1](../path/to/file.md)
- [関連2](../path/to/file.md)
```

### 表形式の活用

比較・一覧は表で記載する。箇条書きより表を優先。

**良い例：**

| 項目 | 説明 |
|------|------|
| 項目A | 説明A |
| 項目B | 説明B |

**避けるべき例：**

- 項目A: 説明A
- 項目B: 説明B

---

## 用語・表記規範

### 用語集の使用

- 専門用語・プロジェクト固有語は `99-appendix/glossary.md` で定義する
- 初出時は「〇〇（→用語集）」と明示する

### 表記ゆれ禁止

同じ概念に複数の名前を使わない。用語集で正式名称を定義し、それを使用する。

### 文体

- **である調**で統一（簡潔さ優先）
- 敬語（です・ます調）は使用しない

---

## 相互参照規範

### リンク形式

相対パスを使用する：

```markdown
[参照先のタイトル](../path/to/file.md)
```

### 関連ドキュメントセクション

各ファイル末尾に「関連ドキュメント」セクションを設置し、関連するドキュメントへのリンクを記載する。

---

## メタ情報規範

### ステータス

各ドキュメント冒頭に以下のいずれかを記載する：

| ステータス | 意味 |
|------------|------|
| **Draft** | 作成中。内容が不完全 |
| **Active** | 有効。現在の設計を反映 |
| **Deprecated** | 非推奨。参考情報として残す |

### 最終更新日

各ドキュメント冒頭に `最終更新: YYYY-MM-DD` 形式で記載する。

---

## 図の規範

### 使用ツール

**Mermaidのみ**を使用する。外部ツール（draw.io、Figma等）は使用しない。

理由：
- テキストベースでGit差分が取れる
- AIが読み書きできる
- 追加ツールのインストールが不要

### 図の種類と用途

| 図の種類 | Mermaid記法 | 用途 |
|----------|-------------|------|
| フローチャート | `flowchart` | 処理フロー、状態遷移 |
| ER図 | `erDiagram` | データモデル |
| シーケンス図 | `sequenceDiagram` | コンポーネント間通信 |
| C4図 | `C4Context`, `C4Container` | システム構成 |
| クラス図 | `classDiagram` | 構造の関係性 |

### 図の記載ルール

- 図には必ずタイトルをつける（見出しまたはキャプション）
- 図の前後に説明文を添える（図だけで終わらせない）
- 複雑な図は分割する

---

## ファイル命名規則

### 設計ドキュメント

番号付きディレクトリ + 英語ファイル名：

```
docs/
├── 01-overview/
│   └── summary.md
├── 02-architecture/
│   └── context.md
```

### ADR（決定記録）

4桁番号 + ケバブケース：

```
04-decisions/
├── 0001-use-typescript.md
├── 0002-adopt-postgresql.md
```

### GitHub標準ファイル

番号なし、大文字：

```
README.md
LICENSE
CONTRIBUTING.md
CHANGELOG.md
```

---

## 変更履歴の管理

### 基本方針

- 通常の変更 → Git履歴で管理
- 重要な変更 → `CHANGELOG.md` に記録

### CHANGELOGに記録する変更

- ドキュメント構造の変更
- 破壊的変更（既存の記載を大きく変更）
- 新規セクションの追加
- ステータス変更（Active → Deprecated等）

---

## 関連ドキュメント

- [00-index.md](./00-index.md) - ドキュメント全体のナビゲーション
- [99-appendix/glossary.md](./99-appendix/glossary.md) - 用語集
